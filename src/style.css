* { margin: 0; padding: 0; box-sizing: border-box; }
body {
  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
  display: flex; height: 100vh; overflow: hidden;
  background: #0d1117; color: #c9d1d9;
}

/* ── Sidebar ─────────────────────────────────────── */
#sidebar {
  width: 320px; min-width: 320px;
  background: #161b22; border-right: 1px solid #30363d;
  overflow-y: auto; padding: 16px;
  display: flex; flex-direction: column; gap: 16px;
}
#sidebar h1 {
  font-size: 18px; font-weight: 600; color: #58a6ff;
  border-bottom: 1px solid #30363d; padding-bottom: 8px;
}
.control-group {
  background: #0d1117; border: 1px solid #30363d; border-radius: 8px; padding: 12px;
}
.control-group h2 {
  font-size: 13px; font-weight: 600; color: #58a6ff;
  text-transform: uppercase; letter-spacing: 0.5px; margin-bottom: 8px;
}
.control-row {
  display: flex; align-items: center; gap: 8px; margin-bottom: 6px;
}
.control-row:last-child { margin-bottom: 0; }
.control-row label {
  font-size: 12px; color: #8b949e; min-width: 90px; flex-shrink: 0;
}
.control-row input[type="range"] { flex: 1; min-width: 0; }
.control-row .value {
  font-size: 12px; color: #e6edf3; min-width: 52px; text-align: right;
  font-variant-numeric: tabular-nums;
}
.mode-toggle {
  display: flex; gap: 4px; margin-bottom: 8px;
}
.mode-toggle button {
  flex: 1; padding: 4px 8px; font-size: 11px; font-weight: 600;
  border: 1px solid #30363d; border-radius: 4px;
  background: #0d1117; color: #8b949e; cursor: pointer;
  transition: all 0.15s;
}
.mode-toggle button.active {
  background: #1f6feb; color: #fff; border-color: #1f6feb;
}
select {
  background: #0d1117; color: #c9d1d9; border: 1px solid #30363d;
  border-radius: 4px; padding: 3px 6px; font-size: 12px; flex: 1;
}
#status {
  font-size: 11px; color: #8b949e; text-align: center; padding: 4px;
}

/* ── Canvas area ─────────────────────────────────── */
#canvas-container {
  flex: 1; position: relative; overflow: hidden;
}
#field-canvas { display: block; width: 100%; height: 100%; }
#tooltip {
  position: absolute; pointer-events: none; display: none;
  background: rgba(22, 27, 34, 0.95); border: 1px solid #30363d;
  border-radius: 6px; padding: 8px 10px; font-size: 12px;
  line-height: 1.5; white-space: nowrap; z-index: 10;
  box-shadow: 0 4px 12px rgba(0,0,0,0.4);
}
#tooltip .tt-header { color: #58a6ff; font-weight: 600; margin-bottom: 2px; }
#tooltip .tt-valid { color: #3fb950; }
#tooltip .tt-invalid { color: #f85149; }
#tooltip .tt-row { color: #c9d1d9; }

/* ── Shot Modal ────────────────────────────────────── */
#shot-modal-backdrop {
  position: fixed; inset: 0; z-index: 100;
  background: rgba(0, 0, 0, 0.7);
  display: flex; align-items: center; justify-content: center;
}
#shot-modal {
  background: #161b22; border: 1px solid #30363d; border-radius: 10px;
  width: min(92vw, 1100px); height: min(88vh, 780px);
  display: flex; flex-direction: column; overflow: hidden;
  box-shadow: 0 8px 32px rgba(0,0,0,0.6);
}
#shot-modal-header {
  display: flex; align-items: center; justify-content: space-between;
  padding: 10px 16px; border-bottom: 1px solid #30363d;
}
#shot-modal-title {
  font-size: 14px; font-weight: 600; color: #58a6ff;
}
#shot-modal-close {
  background: none; border: none; color: #8b949e; font-size: 22px;
  cursor: pointer; padding: 0 4px; line-height: 1;
}
#shot-modal-close:hover { color: #f85149; }
#shot-modal-grid {
  flex: 1 1 0; display: grid; grid-template-columns: 1fr 1fr;
  grid-template-rows: 1fr 1fr; gap: 4px; padding: 6px;
  min-height: 0; overflow: hidden;
}
.shot-panel {
  background: #0d1117; border: 1px solid #21262d; border-radius: 6px;
  display: flex; flex-direction: column; overflow: hidden;
  min-height: 0; min-width: 0; cursor: pointer;
  transition: border-color 0.15s;
}
.shot-panel:hover { border-color: #58a6ff55; }
.shot-panel.expanded {
  grid-column: 1 / -1; grid-row: 1 / -1; z-index: 2;
  border-color: #58a6ff; cursor: default;
}
.shot-panel.collapsed { display: none; }
.shot-panel-label {
  font-size: 10px; font-weight: 600; color: #8b949e;
  text-transform: uppercase; letter-spacing: 0.5px;
  padding: 4px 8px; border-bottom: 1px solid #21262d; flex-shrink: 0;
}
.shot-panel.expanded .shot-panel-label { font-size: 11px; padding: 6px 10px; }
.shot-panel canvas {
  display: block; width: 100%; flex: 1 1 0; min-height: 0;
}
#shot-info {
  flex: 1 1 0; padding: 10px 12px; font-size: 12px; line-height: 1.8;
  color: #c9d1d9; overflow-y: auto; min-height: 0;
}
#shot-info .si-label { color: #8b949e; display: inline-block; min-width: 110px; }
#shot-info .si-val { color: #e6edf3; font-variant-numeric: tabular-nums; }
#shot-info .si-section {
  color: #58a6ff; font-weight: 600; font-size: 11px;
  text-transform: uppercase; margin-top: 6px; margin-bottom: 2px;
  border-bottom: 1px solid #21262d; padding-bottom: 2px;
}

/* ── Slider styling ──────────────────────────────── */
input[type="range"] {
  -webkit-appearance: none; height: 4px; border-radius: 2px;
  background: #30363d; outline: none;
}
input[type="range"]::-webkit-slider-thumb {
  -webkit-appearance: none; width: 14px; height: 14px;
  border-radius: 50%; background: #58a6ff; cursor: pointer;
}
input[type="range"]::-moz-range-thumb {
  width: 14px; height: 14px; border-radius: 50%;
  background: #58a6ff; cursor: pointer; border: none;
}

/* ── Copy link button ────────────────────────────── */
#copy-link {
  width: 100%; padding: 8px 12px; margin-top: auto;
  font-size: 12px; font-weight: 600; cursor: pointer;
  background: #1f6feb; color: #fff; border: none; border-radius: 6px;
  transition: background 0.15s;
}
#copy-link:hover { background: #388bfd; }
